<html>
<head>
    <title>Kaf.if</title>
    <meta charset="utf-8" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Chakra+Petch&display=swap');
    p {
        font-family: Rubik, Helvetica, sans-serif;
    }
    </style>
</head>
<body class="bg-slate-900 m-0 p-0 flex justify-center items-center flex-col text-white h-full">
    <div class="flex items-center gap-4 mb-4">
        <img draggable="false" src="./kafif.jpg" class="rounded-full h-32" />
        <p class="text-5xl tracking-wider select-none">Kaf.if</p>
    </div>
    <p class="px-4 py-1 rounded-t-xl bg-slate-600">Сократить ссылку</p>
    <div class="p-1 rounded-full bg-slate-600 flex w-2/3 lg:w-1/3">
        <input id="link" class="bg-transparent outline-none px-2 flex-1" placeholder="https://amogus.org" />
        <a draggable="false" onclick="linkify()" href="#" class="select-none rounded-full px-4 py-2 bg-blue-600 hover:bg-blue-700 flex gap-2 items-center" >Kaf.if <img class="w-4" src="./go.png"/></a>
    </div>
    <a class="mt-4 cursor-pointer hidden text-white rounded-full px-4 py-1 bg-red-600" id="error" href="#">https://kafif.ru?=lgernjnerkjb</a>
    <script>
        const link = document.getElementById('link');
        const error = document.getElementById('error');
        link.focus()
    
        const linkify = async () => {
//            let r = await fetch(`/zalupa?u=${link.value}`).then(r=>r.json())
            let r = {
                status: "err/ok",
                url: `https://kafif.ru?=njoeigorih`,
                error: "Ты пидорас"
            } 
            if (r.status=="ok") {
                link.value = r.url
            } else {
                error.innerText=r.error
                error.style.display="block"
            }
        
        }
    </script>
</body>
</html>